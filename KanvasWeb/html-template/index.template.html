<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>Kanvas演示</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <script type="text/javascript" src="Kanvas.js">
        </script>
        <style>
        	body, html {
        		margin: 0;
        		padding: 0;
        		overflow-x: hidden;
        		overflow-y: hidden;
        	}
        </style>
        <script type="text/javascript">
        	
            var kvs = new Kanvas({id: 'demo', width: '100%', height: '100%'});
			
			kvs.onReady(function(){
				kvs.setImgUploadServer('http://www.kanvas.cn/service/imageupload.php');
				kvs.setImgDomainServer('http://www.kanvas.cn/');

                kvs.initDataServer("http://www.kanvas.cn/service/savedata.php", "4d7858835184b7cc64d94a5aefa69016", 283 * 3, 150 * 3);

                kvs.onSaveExit(function(e){

                    alert();
    
                });
                
				//importData();
			});

            function saveData() {

                kvs.getPageImgData("http://www.kanvas.cn/service/pageimg.php?docid=" + "4d7858835184b7cc64d94a5aefa69016");
               
            };
		
			
			function getData(){
				
				var data = kvs.getXMLData();
				//alert(kvs.getImgURLList());
				alert(data);
			};
			
			//测试数据导入, 成功后会看到一个正方形
			var testData = "PGthbnZhcz4KICA8aGVhZGVyIHZlcnNpb249IjEuMC4xIiBzdHlsZUlEPSJzdHlsZV8xIi8+CiAgPG1vZHVsZS8+CiAgPG1haW4+CiAgICA8dGV4dCBpZD0iMTMiIHR5cGU9InRleHQiIHN0eWxlVHlwZT0idGV4dCIgc3R5bGVJRD0iVGl0bGUiIHg9IjI0ODQuNjkwNjYwODYzOTUxIiB5PSItMTk0Ny42MzU0NjU4OTUwNjk3IiB3aWR0aD0iMTUwIiBoZWlnaHQ9IjMxLjk2Mjg5MDYyNSIgcm90YXRpb249IjAiIGNvbG9yPSJmZmZmZmYiIGNvbG9ySW5kZXg9IjAiIHNjYWxlPSIzLjAwNzM1MTM0MTIzNzA1IiBpZk11dGlMaW5lPSJmYWxzZSIgaXNDdXN0b21Db2xvcj0iZmFsc2UiIGZvbnQ9IuW+rui9r+mbhem7kSIgc2l6ZT0iMzAiPgogICAgICA8dGV4dD48IVtDREFUQVvnpL7ljLrljJbov5DokKVdXT48L3RleHQ+CiAgICA8L3RleHQ+CiAgICA8dGV4dCBpZD0iMTUiIHR5cGU9InRleHQiIHN0eWxlVHlwZT0idGV4dCIgc3R5bGVJRD0iVGl0bGUiIHg9IjE5MjAuMDk3Njk0NzAzNzU3IiB5PSIzNTguODA5Njg1ODkzNTA1NSIgd2lkdGg9IjIxMCIgaGVpZ2h0PSIzMS45NjI4OTA2MjUiIHJvdGF0aW9uPSIwIiBjb2xvcj0iZmZmZmZmIiBjb2xvckluZGV4PSIwIiBzY2FsZT0iMi44MTI0OTY3Mjg2MTUyMTE2IiBpZk11dGlMaW5lPSJmYWxzZSIgaXNDdXN0b21Db2xvcj0iZmFsc2UiIGZvbnQ9IuW+rui9r+mbhem7kSIgc2l6ZT0iMzAiPgogICAgICA8dGV4dD48IVtDREFUQVvkupHmnI3liqHmlrnlvI/nm4jliKldXT48L3RleHQ+CiAgICA8L3RleHQ+CiAgICA8dGV4dCBpZD0iNCIgdHlwZT0idGV4dCIgc3R5bGVUeXBlPSJ0ZXh0IiBzdHlsZUlEPSJUaXRsZSIgeD0iNy4yMzcxMDI1ODUxMzUzNzUiIHk9Ii00MzkuMjMwNTY5ODc1ODEyMzYiIHdpZHRoPSI0NDcuNTM5MDYyNSIgaGVpZ2h0PSIzMS45NjI4OTA2MjUiIHJvdGF0aW9uPSIwIiBjb2xvcj0iZmZmZmZmIiBjb2xvckluZGV4PSIwIiBzY2FsZT0iMSIgaWZNdXRpTGluZT0iZmFsc2UiIGlzQ3VzdG9tQ29sb3I9ImZhbHNlIiBmb250PSLlvq7ova/pm4Xpu5EiIHNpemU9IjMwIj4KICAgICAgPHRleHQ+PCFbQ0RBVEFbNeS6v+eUqOaIt+WcqOingueci+eUsXByZXpp5Yib5bu655qE5YaF5a65XV0+PC90ZXh0PgogICAgPC90ZXh0PgogICAgPHRleHQgaWQ9IjgiIHR5cGU9InRleHQiIHN0eWxlVHlwZT0idGV4dCIgc3R5bGVJRD0iVGl0bGUiIHg9IjQyODcuNjMyMjYyMzgzNDUzIiB5PSI4NzYuMDUwNjU0ODAwMTAyNyIgd2lkdGg9IjM1OS40NDMzNTkzNzUiIGhlaWdodD0iMzEuOTYyODkwNjI1IiByb3RhdGlvbj0iMCIgY29sb3I9ImZmZmZmZiIgY29sb3JJbmRleD0iMCIgc2NhbGU9IjEuNTg4MjUxMjU1NzY2NTE0IiBpZk11dGlMaW5lPSJmYWxzZSIgaXNDdXN0b21Db2xvcj0iZmFsc2UiIGZvbnQ9IuW+rui9r+mbhem7kSIgc2l6ZT0iMzAiPgogICAgICA8dGV4dD48IVtDREFUQVtwcmV6aeaYr+WvuXBwdOeahOmioOimhuaAp+WIm+aWsF1dPjwvdGV4dD4KICAgIDwvdGV4dD4KICAgIDx0ZXh0IGlkPSI5IiB0eXBlPSJ0ZXh0IiBzdHlsZVR5cGU9InRleHQiIHN0eWxlSUQ9IlRpdGxlIiB4PSI0MjgzLjY4NTIzNTM4MzA0MSIgeT0iNzEwLjI5MTQ1NDUxNzkwNiIgd2lkdGg9IjMzOS45NDYyODkwNjI1IiBoZWlnaHQ9IjMxLjk2Mjg5MDYyNSIgcm90YXRpb249IjAiIGNvbG9yPSJmZmZmZmYiIGNvbG9ySW5kZXg9IjAiIHNjYWxlPSIxLjU4ODI1MTI1NTc2NjUxNCIgaWZNdXRpTGluZT0iZmFsc2UiIGlzQ3VzdG9tQ29sb3I9ImZhbHNlIiBmb250PSLlvq7ova/pm4Xpu5EiIHNpemU9IjMwIj4KICAgICAgPHRleHQ+PCFbQ0RBVEFbcHJlaXrmmK/kupLogZTnvZHljJbnmoTlubvnga/niYddXT48L3RleHQ+CiAgICA8L3RleHQ+CiAgICA8aW1nIGlkPSIyNyIgdHlwZT0iaW1nIiBzdHlsZVR5cGU9ImltZyIgc3R5bGVJRD0ibnVsbCIgeD0iMjQ4NC42Nzg3MTYxNDQ2OSIgeT0iLTExMzAuOTkzNzg0MTQwMDk0MiIgd2lkdGg9IjE5MDYiIGhlaWdodD0iOTY2IiByb3RhdGlvbj0iMCIgY29sb3I9IjcyOGYxYyIgY29sb3JJbmRleD0iMCIgc2NhbGU9IjEuMjUxOTgyMzkwNTM4NTYwOCIgdXJsPSJmaWxlL2ltYWdlX3VwbG9hZGVkL2E1ZTcyYTI2ZmJlMDdlYjdmNDhiNmU4Nzg2N2I1MWU5IiBpbWdJRD0iNiIvPgogICAgPHRleHQgaWQ9IjIiIHR5cGU9InRleHQiIHN0eWxlVHlwZT0idGV4dCIgc3R5bGVJRD0iVGl0bGUiIHg9Ii00LjcxMjg5NzQxNDg2NDU4NSIgeT0iLTUyNS40MDU1Njk4NzU4MTIzIiB3aWR0aD0iODQ3LjEwNDQ5MjE4NzUiIGhlaWdodD0iMzEuOTYyODkwNjI1IiByb3RhdGlvbj0iMCIgY29sb3I9ImZmZmZmZiIgY29sb3JJbmRleD0iMCIgc2NhbGU9IjEiIGlmTXV0aUxpbmU9ImZhbHNlIiBpc0N1c3RvbUNvbG9yPSJmYWxzZSIgZm9udD0i5b6u6L2v6ZuF6buRIiBzaXplPSIzMCI+CiAgICAgIDx0ZXh0PjwhW0NEQVRBW3ByZXpp5pyJMzAwMOS4h+azqOWGjOeUqOaIt++8jCDkuJbnlYw1MDDlvLrkvIHkuJrkuK3vvIw4MO+8hemAieaLqeS6hnByZXppXV0+PC90ZXh0PgogICAgPC90ZXh0PgogICAgPGltZyBpZD0iMjgiIHR5cGU9ImltZyIgc3R5bGVUeXBlPSJpbWciIHN0eWxlSUQ9Im51bGwiIHg9IjE5NDcuNzI0NzAyNDQ0NzY5NSIgeT0iMTA1Ni42Mzg4MTU4MDU5NzgiIHdpZHRoPSIxOTUyIiBoZWlnaHQ9IjEyMDQiIHJvdGF0aW9uPSIwIiBjb2xvcj0iNzI4ZjFjIiBjb2xvckluZGV4PSIwIiBzY2FsZT0iMC44NTY1MzI1NTk0OTk2ODY4IiB1cmw9ImZpbGUvaW1hZ2VfdXBsb2FkZWQvODM3ZWQ0MDU2ZTI1OTc5ZTczMWEwMDYyMzA4Njc0NWMiIGltZ0lEPSI3Ii8+CiAgICA8aW1nIGlkPSIzMiIgdHlwZT0iaW1nIiBzdHlsZVR5cGU9ImltZyIgc3R5bGVJRD0ibnVsbCIgeD0iLTUyLjY4ODA4Nzc4Mjc5MTgyNSIgeT0iLTk2OS4wNDU2NjkyNTQ1MzMyIiB3aWR0aD0iMjE2IiBoZWlnaHQ9IjEwMCIgcm90YXRpb249IjAiIGNvbG9yPSI3MjhmMWMiIGNvbG9ySW5kZXg9IjAiIHNjYWxlPSIwLjYxNDkxMjE0MDUzNDg3NDUiIHVybD0iZmlsZS9pbWFnZV91cGxvYWRlZC80NzhlOTdiMjFiMTkyOGI0YmFlY2JiYzAwZjRkZmNmMSIgaW1nSUQ9IjgiLz4KICAgIDxpbWcgaWQ9IjM3IiB0eXBlPSJpbWciIHN0eWxlVHlwZT0iaW1nIiBzdHlsZUlEPSJudWxsIiB4PSItMjQuODkzMzU5NTAwNDk4ODMiIHk9Ii03MzAuMTk4ODQyNDA1ODczIiB3aWR0aD0iMjM0NiIgaGVpZ2h0PSI4OTIiIHJvdGF0aW9uPSIwIiBjb2xvcj0iNzI4ZjFjIiBjb2xvckluZGV4PSIwIiBzY2FsZT0iMC4zNTEwODE0ODg5MjA3ODU5IiB1cmw9ImZpbGUvaW1hZ2VfdXBsb2FkZWQvYjQ0YjJkMzlhN2QxYmQ2OWY0ZDVmOGNlNjY2YzU1ODkiIGltZ0lEPSIxMCIvPgogICAgPHRleHQgaWQ9IjEwIiB0eXBlPSJ0ZXh0IiBzdHlsZVR5cGU9InRleHQiIHN0eWxlSUQ9IlRpdGxlIiB4PSI0Mjg3LjU2ODA4NDk4MzczNCIgeT0iNTQ1LjM1NTM5MTE3MDY5MjMiIHdpZHRoPSIyNjkuNDQzMzU5Mzc1IiBoZWlnaHQ9IjMxLjk2Mjg5MDYyNSIgcm90YXRpb249IjAiIGNvbG9yPSJmZmZmZmYiIGNvbG9ySW5kZXg9IjAiIHNjYWxlPSIxLjU4ODI1MTI1NTc2NjUxNCIgaWZNdXRpTGluZT0iZmFsc2UiIGlzQ3VzdG9tQ29sb3I9ImZhbHNlIiBmb250PSLlvq7ova/pm4Xpu5EiIHNpemU9IjMwIj4KICAgICAgPHRleHQ+PCFbQ0RBVEFbcHJlemnmmK/mlrDkuIDku6PnmoRwcHRdXT48L3RleHQ+CiAgICA8L3RleHQ+CiAgPC9tYWluPgogIDxwYWdlcz4KICAgIDxwYWdlIGlkPSIxMSIgdHlwZT0icGFnZSIgc3R5bGVUeXBlPSJib3JkZXIiIHN0eWxlSUQ9IlBhZ2UiIHg9IjQuMzkyNDYwNzUyNjc5NjEzIiB5PSItNjk1LjgzOTg4NzkzNTYwODMiIHdpZHRoPSI4NjkiIGhlaWdodD0iNTgxIiByb3RhdGlvbj0iMCIgY29sb3I9ImFmZGE0ZiIgY29sb3JJbmRleD0iMCIgc2NhbGU9IjEuMjIwOTQ4MTE3MjE4MTA4NSIgaW5kZXg9IjAiIGVsZW1lbnRJRD0iMTEiLz4KICAgIDxwYWdlIGlkPSIxMiIgdHlwZT0icGFnZSIgc3R5bGVUeXBlPSJib3JkZXIiIHN0eWxlSUQ9IlBhZ2UiIHg9IjI0NjUuODkzMzYzMDA5MTUzNyIgeT0iLTExNzUuMTQ0MjkyNzcwMDMxNCIgd2lkdGg9Ijg2OSIgaGVpZ2h0PSI1ODEiIHJvdGF0aW9uPSIwIiBjb2xvcj0iYWZkYTRmIiBjb2xvckluZGV4PSIwIiBzY2FsZT0iMy4yOTcxNzA5NDk3NzA2OSIgaW5kZXg9IjEiIGVsZW1lbnRJRD0iMTIiLz4KICAgIDxwYWdlIGlkPSIxNCIgdHlwZT0icGFnZSIgc3R5bGVUeXBlPSJib3JkZXIiIHN0eWxlSUQ9IlBhZ2UiIHg9IjE5MjAuNDI4ODI2Nzg1NzY1NSIgeT0iOTU5Ljc2ODgzMzExNjg4ODgiIHdpZHRoPSI4NjkiIGhlaWdodD0iNTgxIiByb3RhdGlvbj0iMCIgY29sb3I9ImFmZGE0ZiIgY29sb3JJbmRleD0iMCIgc2NhbGU9IjIuODEyNDk2NzI4NjE1MjExNiIgaW5kZXg9IjIiIGVsZW1lbnRJRD0iMTQiLz4KICAgIDxwYWdlIGlkPSIxNiIgdHlwZT0icGFnZSIgc3R5bGVUeXBlPSJib3JkZXIiIHN0eWxlSUQ9IlBhZ2UiIHg9IjQyNjUuMTY3MTI4MDEwNTYiIHk9Ijc3OC44OTY2NzcxNzY0ODQ2IiB3aWR0aD0iODY5IiBoZWlnaHQ9IjU4MSIgcm90YXRpb249IjAiIGNvbG9yPSJhZmRhNGYiIGNvbG9ySW5kZXg9IjAiIHNjYWxlPSIxLjMzMDg2OTc4NjQzMzk2NjUiIGluZGV4PSIzIiBlbGVtZW50SUQ9IjE2Ii8+CiAgPC9wYWdlcz4KICA8YmcgY29sb3I9IjQ3NDc0NyIgY29sb3JJbmRleD0iNyIgaW1nVVJMPSIiIGltZ0lEPSIwIi8+Cjwva2FudmFzPg==";



			function importData(){
				kvs.setBase64Data(testData, false);	
			};
			
			
			
        </script>
    </head>
    <body>
    	
    	<!--input type="button" value="导出数据" onclick="getData()"/>
    	<input type="button" value="导入数据" onclick="importData()"/>
    	<input type="button" value="设置数据关联" onclick="getShotCut()"/-->
    	
        <div id="demo"></div>
    </body>
</html>